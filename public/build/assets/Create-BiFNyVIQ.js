import{r as d,j as o,e as h,d as qt,q as $t,W as Kt,a as Ut,Y as Gt}from"./app-DNyFTp_I.js";import{A as Qt}from"./AuthenticatedLayout-BnJvsuQ8.js";import{S as Rt}from"./Section-CM1bJzKz.js";import{T as at}from"./TextInput-XZFMSyYV.js";import{I as Ye}from"./InputLabel-CjOAn4vy.js";import{I as Xe}from"./InputError-BvMGdLL_.js";import{S as Jt}from"./SecondaryButton-FB2uHwgr.js";import{S as Vt}from"./SelectList-CCFhlCcc.js";import"./lodash-CDYtvLmf.js";import"./slick-theme-DAmdSXS8.js";import"./ApplicationLogo-BoN71fHg.js";import"./transition-CrWVsblw.js";const Zt=({setData:e})=>(d.useEffect(()=>{Dropzone.autoDiscover=!1;const a=new Dropzone("#dropzone",{dictDefaultMessage:"Sube aquÃ­ tu imagen",acceptedFiles:".jpg,.jpeg,.png,.gif",addRemoveLinks:!0,dictRemoveFile:"Quitar archivo",maxFiles:3,uploadMultiple:!0,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});return a.on("success",(n,r)=>{r.paths&&e(i=>({...i,images_url:r.paths}))}),()=>{a.destroy()}},[]),o.jsx("form",{id:"dropzone",action:route("product.image"),className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",method:"post",enctype:"multipart/form-data",children:o.jsx("input",{type:"hidden",name:"_token",value:document.querySelector('meta[name="csrf-token"]').getAttribute("content")})}));function Y(){return Y=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function _t(e,a){if(e==null)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)a.indexOf(n=u[r])>=0||(i[n]=e[n]);return i}function $e(e){var a=d.useRef({fn:e,curr:void 0}).current;if(a.fn=e,!a.curr){var n=Object.create(null);Object.keys(e).forEach(function(r){n[r]=function(){var i;return(i=a.fn[r]).call.apply(i,[a.fn].concat([].slice.call(arguments)))}}),a.curr=n}return a.curr}function kt(e){return d.useReducer(function(a,n){return Y({},a,typeof n=="function"?n(a):n)},e)}var Ot=d.createContext(void 0),be=typeof window<"u"&&"ontouchstart"in window,Xt=function(e,a,n){return Math.max(Math.min(e,n),a)},Nt=function(e,a,n){return a===void 0&&(a=0),n===void 0&&(n=0),Xt(e,1*(1-n),Math.max(6,a)*(1+n))},Wt=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?d.useEffect:d.useLayoutEffect;function rt(e,a,n){var r=d.useRef(a);r.current=a,d.useEffect(function(){function i(u){r.current(u)}return e&&window.addEventListener(e,i,n),function(){e&&window.removeEventListener(e,i)}},[e])}var en=["container"];function tn(e){var a=e.container,n=a===void 0?document.body:a,r=_t(e,en);return qt.createPortal(h.createElement("div",Y({},r)),n)}function nn(e){return h.createElement("svg",Y({width:"44",height:"44",viewBox:"0 0 768 768"},e),h.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function an(e){return h.createElement("svg",Y({width:"44",height:"44",viewBox:"0 0 768 768"},e),h.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function rn(e){return h.createElement("svg",Y({width:"44",height:"44",viewBox:"0 0 768 768"},e),h.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function on(){return d.useEffect(function(){var e=document.body.style,a=e.overflow;return e.overflow="hidden",function(){e.overflow=a}},[]),null}function Lt(e){var a=e.touches[0],n=a.clientX,r=a.clientY;if(e.touches.length>=2){var i=e.touches[1],u=i.clientX,s=i.clientY;return[(n+u)/2,(r+s)/2,Math.sqrt(Math.pow(u-n,2)+Math.pow(s-r,2))]}return[n,r,0]}var We=function(e,a,n,r){var i,u=n*a,s=(u-r)/2,l=e;return u<=r?(i=1,l=0):e>0&&s-e<=0?(i=2,l=s):e<0&&s+e<=0&&(i=3,l=-s),[i,l]};function St(e,a,n,r,i,u,s,l,g,f){s===void 0&&(s=innerWidth/2),l===void 0&&(l=innerHeight/2),g===void 0&&(g=0),f===void 0&&(f=0);var v=We(e,u,n,innerWidth)[0],w=We(a,u,r,innerHeight),k=innerWidth/2,P=innerHeight/2;return{x:s-u/i*(s-(k+e))-k+(r/n>=3&&n*u===innerWidth?0:v?g/2:g),y:l-u/i*(l-(P+a))-P+(w[0]?f/2:f),lastCX:s,lastCY:l}}function It(e,a,n){var r=e%180!=0;return r?[n,a,r]:[a,n,r]}function Yt(e,a,n){var r=It(n,innerWidth,innerHeight),i=r[0],u=r[1],s=0,l=i,g=u,f=e/a*u,v=a/e*i;return e<i&&a<u?(l=e,g=a):e<i&&a>=u?l=f:e>=i&&a<u||e/a>i/u?g=v:a/e>=3&&!r[2]?s=((g=v)-u)/2:l=f,{width:l,height:g,x:0,y:s,pause:!0}}function Pt(e,a){var n=a.leading,r=n!==void 0&&n,i=a.maxWait,u=a.wait,s=u===void 0?i||0:u,l=d.useRef(e);l.current=e;var g=d.useRef(0),f=d.useRef(),v=function(){return f.current&&clearTimeout(f.current)},w=d.useCallback(function(){var k=[].slice.call(arguments),P=Date.now();function T(){g.current=P,v(),l.current.apply(null,k)}var N=g.current,b=P-N;if(N===0&&(r&&T(),g.current=P),i!==void 0){if(b>i)return void T()}else b<s&&(g.current=P);v(),f.current=setTimeout(function(){T(),g.current=0},s)},[s,i,r]);return w.cancel=v,w}var Ft=function(e,a,n){return qe(e,a,n,100,function(r){return r},function(){return qe(a,e,n)})},sn=function(e){return 1-Math.pow(1-e,4)};function qe(e,a,n,r,i,u){r===void 0&&(r=400),i===void 0&&(i=sn);var s=a-e;if(s!==0){var l=Date.now(),g=0,f=function(){var w=Math.min(1,(Date.now()-l)/r);n(e+i(w)*s)&&w<1?v():(cancelAnimationFrame(g),w>=1&&u&&u())};v()}function v(){g=requestAnimationFrame(f)}}var cn={T:0,L:0,W:0,H:0,FIT:void 0},zt=function(){var e=d.useRef(!1);return d.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},ln=["className"];function un(e){var a=e.className,n=a===void 0?"":a,r=_t(e,ln);return h.createElement("div",Y({className:"PhotoView__Spinner "+n},r),h.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},h.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),h.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var dn=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function mn(e){var a=e.src,n=e.loaded,r=e.broken,i=e.className,u=e.onPhotoLoad,s=e.loadingElement,l=e.brokenElement,g=_t(e,dn),f=zt();return a&&!r?h.createElement(h.Fragment,null,h.createElement("img",Y({className:"PhotoView__Photo"+(i?" "+i:""),src:a,onLoad:function(v){var w=v.target;f.current&&u({loaded:!0,naturalWidth:w.naturalWidth,naturalHeight:w.naturalHeight})},onError:function(){f.current&&u({broken:!0})},alt:""},g)),!n&&(h.createElement("span",{className:"PhotoView__icon"},s)||h.createElement(un,{className:"PhotoView__icon"}))):l?h.createElement("span",{className:"PhotoView__icon"},typeof l=="function"?l({src:a}):l):null}var hn={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function fn(e){var a=e.item,n=a.src,r=a.render,i=a.width,u=i===void 0?0:i,s=a.height,l=s===void 0?0:s,g=a.originRef,f=e.visible,v=e.speed,w=e.easing,k=e.wrapClassName,P=e.className,T=e.style,N=e.loadingElement,b=e.brokenElement,_=e.onPhotoTap,L=e.onMaskTap,Ce=e.onReachMove,ce=e.onReachUp,Ke=e.onPhotoResize,A=e.isActive,K=e.expose,Ie=kt(hn),p=Ie[0],C=Ie[1],le=d.useRef(0),ue=zt(),Te=p.naturalWidth,O=Te===void 0?u:Te,R=p.naturalHeight,X=R===void 0?l:R,y=p.width,U=y===void 0?u:y,ft=p.height,Ee=ft===void 0?l:ft,ot=p.loaded,it=ot===void 0?!n:ot,Ae=p.broken,z=p.x,de=p.y,G=p.touched,Mt=p.stopRaf,je=p.maskTouched,Q=p.rotate,W=p.scale,vt=p.CX,Ue=p.CY,De=p.lastX,st=p.lastY,j=p.lastCX,gt=p.lastCY,ne=p.lastScale,Ve=p.touchTime,xt=p.touchLength,J=p.pause,Le=p.reach,ct=$e({onScale:function(t){return me(Nt(t))},onRotate:function(t){Q!==t&&(K({rotate:t}),C(Y({rotate:t},Yt(O,X,t))))}});function me(t,c,x){W!==t&&(K({scale:t}),C(Y({scale:t},St(z,de,U,Ee,W,t,c,x),t<=1&&{x:0,y:0})))}var pt=Pt(function(t,c,x){if(x===void 0&&(x=0),(G||je)&&A){var Fe=It(Q,U,Ee),he=Fe[0],Z=Fe[1];if(x===0&&le.current===0){var I=Math.abs(t-vt)<=20,H=Math.abs(c-Ue)<=20;if(I&&H)return void C({lastCX:t,lastCY:c});le.current=I?c>Ue?3:2:1}var oe,He=t-j,ke=c-gt;if(x===0){var Oe=We(He+De,W,he,innerWidth)[0],Je=We(ke+st,W,Z,innerHeight);oe=function(_e,ve,ge,ie){return ve&&_e===1||ie==="x"?"x":ge&&_e>1||ie==="y"?"y":void 0}(le.current,Oe,Je[0],Le),oe!==void 0&&Ce(oe,t,c,W)}if(oe==="x"||je)return void C({reach:"x"});var fe=Nt(W+(x-xt)/100/2*W,O/U,.2);K({scale:fe}),C(Y({touchLength:x,reach:oe,scale:fe},St(z,de,U,Ee,W,fe,t,c,He,ke)))}},{maxWait:8});function lt(t){return!Mt&&!G&&(ue.current&&C(Y({},t,{pause:f})),ue.current)}var Ne,ae,Pe,ut,wt,yt,bt,F,Ct=(wt=function(t){return lt({x:t})},yt=function(t){return lt({y:t})},bt=function(t){return ue.current&&(K({scale:t}),C({scale:t})),!G&&ue.current},F=$e({X:function(t){return wt(t)},Y:function(t){return yt(t)},S:function(t){return bt(t)}}),function(t,c,x,Fe,he,Z,I,H,oe,He,ke){var Oe=It(He,he,Z),Je=Oe[0],fe=Oe[1],_e=We(t,H,Je,innerWidth),ve=_e[0],ge=_e[1],ie=We(c,H,fe,innerHeight),Ze=ie[0],jt=ie[1],et=Date.now()-ke;if(et>=200||H!==I||Math.abs(oe-I)>1){var Me=St(t,c,he,Z,I,H),xe=Me.x,ze=Me.y,B=ve?ge:xe!==t?xe:null,tt=Ze?jt:ze!==c?ze:null;return B!==null&&qe(t,B,F.X),tt!==null&&qe(c,tt,F.Y),void(H!==I&&qe(I,H,F.S))}var Be=(t-x)/et,Re=(c-Fe)/et,Se=Math.sqrt(Math.pow(Be,2)+Math.pow(Re,2)),pe=!1,we=!1;(function(ee,D){var V,te=ee,ye=0,q=0,nt=function(mt){V||(V=mt);var ht=mt-V,Tt=Math.sign(ee),At=-.001*Tt,Dt=Math.sign(-te)*Math.pow(te,2)*2e-4,Bt=te*ht+(At+Dt)*Math.pow(ht,2)/2;ye+=Bt,V=mt,Tt*(te+=(At+Dt)*ht)<=0?$():D(ye)?se():$()};function se(){q=requestAnimationFrame(nt)}function $(){cancelAnimationFrame(q)}se()})(Se,function(ee){var D=t+ee*(Be/Se),V=c+ee*(Re/Se),te=We(D,I,Je,innerWidth),ye=te[0],q=te[1],nt=We(V,I,fe,innerHeight),se=nt[0],$=nt[1];if(ye&&!pe&&(pe=!0,ve?qe(D,q,F.X):Ft(q,D+(D-q),F.X)),se&&!we&&(we=!0,Ze?qe(V,$,F.Y):Ft($,V+(V-$),F.Y)),pe&&we)return!1;var mt=pe||F.X(q),ht=we||F.Y($);return mt&&ht})}),Ge=(Ne=_,ae=function(t,c){Le||me(W!==1?1:Math.max(2,O/U),t,c)},Pe=d.useRef(0),ut=Pt(function(){Pe.current=0,Ne.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var t=[].slice.call(arguments);Pe.current+=1,ut.apply(void 0,t),Pe.current>=2&&(ut.cancel(),Pe.current=0,ae.apply(void 0,t))});function Qe(t,c){if(le.current=0,(G||je)&&A){C({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var x=Nt(W,O/U);if(Ct(z,de,De,st,U,Ee,W,x,ne,Q,Ve),ce(t,c),vt===t&&Ue===c){if(G)return void Ge(t,c);je&&L(t,c)}}}function dt(t,c,x){x===void 0&&(x=0),C({touched:!0,CX:t,CY:c,lastCX:t,lastCY:c,lastX:z,lastY:de,lastScale:W,touchLength:x,touchTime:Date.now()})}function Et(t){C({maskTouched:!0,CX:t.clientX,CY:t.clientY,lastX:z,lastY:de})}rt(be?void 0:"mousemove",function(t){t.preventDefault(),pt(t.clientX,t.clientY)}),rt(be?void 0:"mouseup",function(t){Qe(t.clientX,t.clientY)}),rt(be?"touchmove":void 0,function(t){t.preventDefault();var c=Lt(t);pt.apply(void 0,c)},{passive:!1}),rt(be?"touchend":void 0,function(t){var c=t.changedTouches[0];Qe(c.clientX,c.clientY)},{passive:!1}),rt("resize",Pt(function(){it&&!G&&(C(Yt(O,X,Q)),Ke())},{maxWait:8})),Wt(function(){A&&K(Y({scale:W,rotate:Q},ct))},[A]);var re=function(t,c,x,Fe,he,Z,I,H,oe,He){var ke=function(xe,ze,B,tt,Be){var Re=d.useRef(!1),Se=kt({lead:!0,scale:B}),pe=Se[0],we=pe.lead,ee=pe.scale,D=Se[1],V=Pt(function(te){try{return Be(!0),D({lead:!1,scale:te}),Promise.resolve()}catch(ye){return Promise.reject(ye)}},{wait:tt});return Wt(function(){Re.current?(Be(!1),D({lead:!0}),V(B)):Re.current=!0},[B]),we?[xe*ee,ze*ee,B/ee]:[xe*B,ze*B,1]}(Z,I,H,oe,He),Oe=ke[0],Je=ke[1],fe=ke[2],_e=function(xe,ze,B,tt,Be){var Re=d.useState(cn),Se=Re[0],pe=Re[1],we=d.useState(0),ee=we[0],D=we[1],V=d.useRef(),te=$e({OK:function(){return xe&&D(4)}});function ye(q){Be(!1),D(q)}return d.useEffect(function(){if(V.current||(V.current=Date.now()),B){if(function(q,nt){var se=q&&q.current;if(se&&se.nodeType===1){var $=se.getBoundingClientRect();nt({T:$.top,L:$.left,W:$.width,H:$.height,FIT:se.tagName==="IMG"?getComputedStyle(se).objectFit:void 0})}}(ze,pe),xe)return Date.now()-V.current<250?(D(1),requestAnimationFrame(function(){D(2),requestAnimationFrame(function(){return ye(3)})}),void setTimeout(te.OK,tt)):void D(4);ye(5)}},[xe,B]),[ee,Se]}(t,c,x,oe,He),ve=_e[0],ge=_e[1],ie=ge.W,Ze=ge.FIT,jt=innerWidth/2,et=innerHeight/2,Me=ve<3||ve>4;return[Me?ie?ge.L:jt:Fe+(jt-Z*H/2),Me?ie?ge.T:et:he+(et-I*H/2),Oe,Me&&Ze?Oe*(ge.H/ie):Je,ve===0?fe:Me?ie/(Z*H)||.01:fe,Me?Ze?1:0:1,ve,Ze]}(f,g,it,z,de,U,Ee,W,v,function(t){return C({pause:t})}),m=re[4],E=re[6],S="transform "+v+"ms "+w,M={className:P,onMouseDown:be?void 0:function(t){t.stopPropagation(),t.button===0&&dt(t.clientX,t.clientY,0)},onTouchStart:be?function(t){t.stopPropagation(),dt.apply(void 0,Lt(t))}:void 0,onWheel:function(t){if(!Le){var c=Nt(W-t.deltaY/100/2,O/U);C({stopRaf:!0}),me(c,t.clientX,t.clientY)}},style:{width:re[2]+"px",height:re[3]+"px",opacity:re[5],objectFit:E===4?void 0:re[7],transform:Q?"rotate("+Q+"deg)":void 0,transition:E>2?S+", opacity "+v+"ms ease, height "+(E<4?v/2:E>4?v:0)+"ms "+w:void 0}};return h.createElement("div",{className:"PhotoView__PhotoWrap"+(k?" "+k:""),style:T,onMouseDown:!be&&A?Et:void 0,onTouchStart:be&&A?function(t){return Et(t.touches[0])}:void 0},h.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+m+", 0, 0, "+m+", "+re[0]+", "+re[1]+")",transition:G||J?void 0:S,willChange:A?"transform":void 0}},n?h.createElement(mn,Y({src:n,loaded:it,broken:Ae},M,{onPhotoLoad:function(t){C(Y({},t,t.loaded&&Yt(t.naturalWidth||0,t.naturalHeight||0,Q)))},loadingElement:N,brokenElement:b})):r&&r({attrs:M,scale:m,rotate:Q})))}var Ht={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function vn(e){var a=e.loop,n=a===void 0?3:a,r=e.speed,i=e.easing,u=e.photoClosable,s=e.maskClosable,l=s===void 0||s,g=e.maskOpacity,f=g===void 0?1:g,v=e.pullClosable,w=v===void 0||v,k=e.bannerVisible,P=k===void 0||k,T=e.overlayRender,N=e.toolbarRender,b=e.className,_=e.maskClassName,L=e.photoClassName,Ce=e.photoWrapClassName,ce=e.loadingElement,Ke=e.brokenElement,A=e.images,K=e.index,Ie=K===void 0?0:K,p=e.onIndexChange,C=e.visible,le=e.onClose,ue=e.afterClose,Te=e.portalContainer,O=kt(Ht),R=O[0],X=O[1],y=d.useState(0),U=y[0],ft=y[1],Ee=R.x,ot=R.touched,it=R.pause,Ae=R.lastCX,z=R.lastCY,de=R.bg,G=de===void 0?f:de,Mt=R.lastBg,je=R.overlay,Q=R.minimal,W=R.scale,vt=R.rotate,Ue=R.onScale,De=R.onRotate,st=e.hasOwnProperty("index"),j=st?Ie:U,gt=st?p:ft,ne=d.useRef(j),Ve=A.length,xt=A[j],J=typeof n=="boolean"?n:Ve>n,Le=function(m,E){var S=d.useReducer(function(x){return!x},!1)[1],M=d.useRef(0),t=function(x,Fe){var he=d.useRef(x);function Z(I){he.current=I}return d.useMemo(function(){(function(I){m?(I(m),M.current=1):M.current=2})(Z)},[x]),[he.current,Z]}(m),c=t[1];return[t[0],M.current,function(){S(),M.current===2&&(c(!1),E&&E()),M.current=0}]}(C,ue),ct=Le[0],me=Le[1],pt=Le[2];Wt(function(){if(ct)return X({pause:!0,x:j*-(innerWidth+20)}),void(ne.current=j);X(Ht)},[ct]);var lt=$e({close:function(m){De&&De(0),X({overlay:!0,lastBg:G}),le(m)},changeIndex:function(m,E){E===void 0&&(E=!1);var S=J?ne.current+(m-j):m,M=Ve-1,t=Xt(S,0,M),c=J?S:t,x=innerWidth+20;X({touched:!1,lastCX:void 0,lastCY:void 0,x:-x*c,pause:E}),ne.current=c,gt&&gt(J?m<0?M:m>M?0:m:t)}}),Ne=lt.close,ae=lt.changeIndex;function Pe(m){return m?Ne():X({overlay:!je})}function ut(){X({x:-(innerWidth+20)*j,lastCX:void 0,lastCY:void 0,pause:!0}),ne.current=j}function wt(m,E,S,M){m==="x"?function(t){if(Ae!==void 0){var c=t-Ae,x=c;!J&&(j===0&&c>0||j===Ve-1&&c<0)&&(x=c/2),X({touched:!0,lastCX:Ae,x:-(innerWidth+20)*ne.current+x,pause:!1})}else X({touched:!0,lastCX:t,x:Ee,pause:!1})}(E):m==="y"&&function(t,c){if(z!==void 0){var x=f===null?null:Xt(f,.01,f-Math.abs(t-z)/100/4);X({touched:!0,lastCY:z,bg:c===1?x:f,minimal:c===1})}else X({touched:!0,lastCY:t,bg:G,minimal:!0})}(S,M)}function yt(m,E){var S=m-(Ae??m),M=E-(z??E),t=!1;if(S<-40)ae(j+1);else if(S>40)ae(j-1);else{var c=-(innerWidth+20)*ne.current;Math.abs(M)>100&&Q&&w&&(t=!0,Ne()),X({touched:!1,x:c,lastCX:void 0,lastCY:void 0,bg:f,overlay:!!t||je})}}rt("keydown",function(m){if(C)switch(m.key){case"ArrowLeft":ae(j-1,!0);break;case"ArrowRight":ae(j+1,!0);break;case"Escape":Ne()}});var bt=function(m,E,S){return d.useMemo(function(){var M=m.length;return S?m.concat(m).concat(m).slice(M+E-1,M+E+2):m.slice(Math.max(E-1,0),Math.min(E+2,M+1))},[m,E,S])}(A,j,J);if(!ct)return null;var F=je&&!me,Ct=C?G:Mt,Ge=Ue&&De&&{images:A,index:j,visible:C,onClose:Ne,onIndexChange:ae,overlayVisible:F,overlay:xt&&xt.overlay,scale:W,rotate:vt,onScale:Ue,onRotate:De},Qe=r?r(me):400,dt=i?i(me):"cubic-bezier(0.25, 0.8, 0.25, 1)",Et=r?r(3):600,re=i?i(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return h.createElement(tn,{className:"PhotoView-Portal"+(F?"":" PhotoView-Slider__clean")+(C?"":" PhotoView-Slider__willClose")+(b?" "+b:""),role:"dialog",onClick:function(m){return m.stopPropagation()},container:Te},C&&h.createElement(on,null),h.createElement("div",{className:"PhotoView-Slider__Backdrop"+(_?" "+_:"")+(me===1?" PhotoView-Slider__fadeIn":me===2?" PhotoView-Slider__fadeOut":""),style:{background:Ct?"rgba(0, 0, 0, "+Ct+")":void 0,transitionTimingFunction:dt,transitionDuration:(ot?0:Qe)+"ms",animationDuration:Qe+"ms"},onAnimationEnd:pt}),P&&h.createElement("div",{className:"PhotoView-Slider__BannerWrap"},h.createElement("div",{className:"PhotoView-Slider__Counter"},j+1," / ",Ve),h.createElement("div",{className:"PhotoView-Slider__BannerRight"},N&&Ge&&N(Ge),h.createElement(nn,{className:"PhotoView-Slider__toolbarIcon",onClick:Ne}))),bt.map(function(m,E){var S=J||j!==0?ne.current-1+E:j+E;return h.createElement(fn,{key:J?m.key+"/"+m.src+"/"+S:m.key,item:m,speed:Qe,easing:dt,visible:C,onReachMove:wt,onReachUp:yt,onPhotoTap:function(){return Pe(u)},onMaskTap:function(){return Pe(l)},wrapClassName:Ce,className:L,style:{left:(innerWidth+20)*S+"px",transform:"translate3d("+Ee+"px, 0px, 0)",transition:ot||it?void 0:"transform "+Et+"ms "+re},loadingElement:ce,brokenElement:Ke,onPhotoResize:ut,isActive:ne.current===S,expose:X})}),!be&&P&&h.createElement(h.Fragment,null,(J||j!==0)&&h.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return ae(j-1,!0)}},h.createElement(an,null)),(J||j+1<Ve)&&h.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return ae(j+1,!0)}},h.createElement(rn,null))),T&&Ge&&h.createElement("div",{className:"PhotoView-Slider__Overlay"},T(Ge)))}var gn=["children","onIndexChange","onVisibleChange"],xn={images:[],visible:!1,index:0};function pn(e){var a=e.children,n=e.onIndexChange,r=e.onVisibleChange,i=_t(e,gn),u=kt(xn),s=u[0],l=u[1],g=d.useRef(0),f=s.images,v=s.visible,w=s.index,k=$e({nextId:function(){return g.current+=1},update:function(N){var b=f.findIndex(function(L){return L.key===N.key});if(b>-1){var _=f.slice();return _.splice(b,1,N),void l({images:_})}l(function(L){return{images:L.images.concat(N)}})},remove:function(N){l(function(b){var _=b.images.filter(function(L){return L.key!==N});return{images:_,index:Math.min(_.length-1,w)}})},show:function(N){var b=f.findIndex(function(_){return _.key===N});l({visible:!0,index:b}),r&&r(!0,b,s)}}),P=$e({close:function(){l({visible:!1}),r&&r(!1,w,s)},changeIndex:function(N){l({index:N}),n&&n(N,s)}}),T=d.useMemo(function(){return Y({},s,k)},[s,k]);return h.createElement(Ot.Provider,{value:T},a,h.createElement(vn,Y({images:f,visible:v,index:w,onIndexChange:P.changeIndex,onClose:P.close},i)))}var wn=function(e){var a,n,r=e.src,i=e.render,u=e.overlay,s=e.width,l=e.height,g=e.triggers,f=g===void 0?["onClick"]:g,v=e.children,w=d.useContext(Ot),k=(a=function(){return w.nextId()},(n=d.useRef({sign:!1,fn:void 0}).current).sign||(n.sign=!0,n.fn=a()),n.fn),P=d.useRef(null);d.useImperativeHandle(v==null?void 0:v.ref,function(){return P.current}),d.useEffect(function(){return function(){w.remove(k)}},[]);var T=$e({render:function(b){return i&&i(b)},show:function(b,_){w.show(k),function(L,Ce){if(v){var ce=v.props[L];ce&&ce(Ce)}}(b,_)}}),N=d.useMemo(function(){var b={};return f.forEach(function(_){b[_]=T.show.bind(null,_)}),b},[]);return d.useEffect(function(){w.update({key:k,src:r,originRef:P,render:T.render,overlay:u,width:s,height:l})},[r]),v?d.Children.only(d.cloneElement(v,Y({},N,{ref:P}))):null};const yn=({images:e})=>o.jsx(pn,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map((a,n)=>o.jsx(wn,{src:a.image_path,children:o.jsx("img",{src:a.image_path,alt:`Preview ${n}`,className:"w-full h-auto cursor-pointer"})},n))})}),Xn=({auth:e,categorias:a,product:n=null})=>{var k,P,T,N,b,_,L,Ce,ce,Ke,A,K,Ie,p,C,le,ue,Te,O,R,X;$t();const r=!!n,{data:i,put:u,setData:s,errors:l,post:g,processing:f}=Kt({category_id:((T=(P=(k=n==null?void 0:n.data)==null?void 0:k[0])==null?void 0:P.categoria)==null?void 0:T.id)||"",nameProduct:((b=(N=n==null?void 0:n.data)==null?void 0:N[0])==null?void 0:b.nameProduct)||"",description:((L=(_=n==null?void 0:n.data)==null?void 0:_[0])==null?void 0:L.description)||"",status:((ce=(Ce=n==null?void 0:n.data)==null?void 0:Ce[0])==null?void 0:ce.status)||"",price:((A=(Ke=n==null?void 0:n.data)==null?void 0:Ke[0])==null?void 0:A.price)||"",costo_produccion:((Ie=(K=n==null?void 0:n.data)==null?void 0:K[0])==null?void 0:Ie.costo_produccion)||"",costoProduccionExtra:((C=(p=n==null?void 0:n.data)==null?void 0:p[0])==null?void 0:C.costoProduccionExtra)||"",costoExterno:((ue=(le=n==null?void 0:n.data)==null?void 0:le[0])==null?void 0:ue.costoExterno)||"",images_url:((O=(Te=n==null?void 0:n.data)==null?void 0:Te[0])==null?void 0:O.image_url)||""}),v=((X=(R=n==null?void 0:n.data)==null?void 0:R[0])==null?void 0:X.images)||[],w=y=>{y.preventDefault(),r?u(route("product.update",n.data[0].id)):g(route("product.store"))};return o.jsxs(Qt,{user:e.user,header:o.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Crear Productos",o.jsx(Ut,{className:"text-gray-400 hover:text-blue-500 transition-colors duration-300 ease-in-out underline decoration-dashed decoration-gray-300 hover:decoration-solid hover:decoration-blue-500",href:"/products/",children:"/Listar"})]}),children:[o.jsx(Gt,{title:"Crear Productos "}),o.jsxs("div",{className:"grid grid-cols-2 justify-center py-8 gap-4 ",children:[o.jsxs("form",{onSubmit:w,className:"flex flex-col ",children:[o.jsxs(Rt,{className:"w-full max-w-4xl p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[o.jsx("p",{className:"text-gray-800 dark:text-gray-300 mb-6",children:"Diligencia todo el formulario para agregar a tu inventario"}),o.jsxs("div",{className:"w-full",children:[o.jsx(Ye,{children:"Nombre de Producto"}),o.jsx(at,{className:"mt-1 block w-full",placeholder:"Pantalones,camisas",onChange:y=>s("nameProduct",y.target.value),value:i.nameProduct}),o.jsx(Xe,{className:"mt-2",message:l.nameProduct})]}),o.jsxs("div",{className:"w-full",children:[o.jsx(Ye,{children:"Descripcion"}),o.jsx(at,{className:"mt-1 block w-full",placeholder:"comentarios",onChange:y=>s("description",y.target.value),value:i.description}),o.jsx(Xe,{className:"mt-2",message:l.nameProduct})]}),o.jsxs("div",{className:"flex",children:[o.jsxs("div",{className:"w-3/4",children:[o.jsx(Ye,{children:"Categoria"}),o.jsxs(Vt,{className:"mt-1 block w-full",value:i.category_id||"",onChange:y=>s("category_id",y.target.value),children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione la categoria"}),a.map(y=>o.jsx("option",{value:y.id,children:y.nameCategory},y.id))]}),o.jsx(Xe,{className:"mt-2",message:l.category_id})]}),o.jsxs("div",{children:[o.jsx(Ye,{children:"Precio de venta"}),o.jsx(at,{className:"mt-1 block w-full",placeholder:"$2000",value:i.price,onChange:y=>s("price",y.target.value)}),o.jsx(Xe,{className:"mt-2",message:l.price})]})]}),o.jsxs("div",{children:[o.jsx(Ye,{children:"Estado"}),o.jsxs(Vt,{className:"mt-1 block w-full",value:i.status,onChange:y=>s("status",y.target.value),children:[o.jsx("option",{value:"",disabled:!0,children:"Estado"}),o.jsx("option",{checked:!0,value:"Activo",children:"Activo"}),o.jsx("option",{value:"Inactivo",children:"Inactivo"})]}),o.jsx(Xe,{className:"mt-2",message:l.status})]})]}),o.jsxs(Rt,{className:"w-full max-w-4xl p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[o.jsx("p",{className:"text-gray-800 dark:text-gray-300 mb-6",children:"Ajusta los Costos de elaboracion"}),o.jsxs("div",{children:[o.jsx(Ye,{children:"Costo Operario"}),o.jsx(at,{className:"mt-1 block w-full",value:i.costo_produccion,onChange:y=>s("costo_produccion",y.target.value)}),o.jsx(Xe,{className:"mt-2",message:l.costo_produccion})]}),o.jsxs("div",{children:[o.jsx(Ye,{children:"Costo Operario Externo"}),o.jsx(at,{className:"mt-1 block w-full",value:i.costoExterno,onChange:y=>s("costoExterno",y.target.value)}),o.jsx(Xe,{className:"mt-2",message:l.costoExterno})]}),o.jsxs("div",{children:[o.jsx(Ye,{children:"Costo Nocturo"}),o.jsx(at,{className:"mt-1 block w-full",value:i.costoProduccionExtra,onChange:y=>s("costoProduccionExtra",y.target.value)}),o.jsx(Xe,{className:"mt-2",message:l.costoProduccionExtra}),o.jsx("input",{type:"hidden",name:"images"})]})]}),o.jsx("div",{className:"col-span-1 md:col-span-2 flex justify-end mt-6",children:o.jsx(Jt,{type:"submit",children:r?"Editar Producto":"Crear Producto"})}),f?o.jsx("h1",{className:"text-green-200 bg-green-500 p-4",children:"Datos almacenados correctamente"}):null]}),o.jsxs("div",{children:[v.length>0&&o.jsxs(Rt,{className:"h-28 w-44",children:["PreviewProduct",o.jsx(yn,{images:v})]}),o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:o.jsx(Zt,{setData:s})})})]})]})]})};export{Xn as default};
