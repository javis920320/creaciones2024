import{r as t,W as w,b as c}from"./app-BIHjIaiO.js";function P(){const[s,r]=t.useState({factura:"",cliente:"",estado:""}),[d,i]=t.useState([]),l=()=>{c.get(route("pedidosEnviado.get")).then(e=>{console.log(e.data),i(e.data)}).catch(e=>{console.log("Error al obtener los pedidos:",e)})};t.useEffect(()=>{l()},[]);const{data:E,setData:p,post:C}=w({pedidos:[]}),[L,u]=t.useState([]),[m,n]=t.useState({}),[v,f]=t.useState(!1),g=e=>{console.log("Pedidos seleccionados para imprimir:",e),c.post(route("pedidos.imprimir"),{pedidos:e},{responseType:"blob"}).then(o=>{const h=window.URL.createObjectURL(new Blob([o.data])),a=document.createElement("a");a.href=h,a.setAttribute("download","pedidos-seleccionados.pdf"),document.body.appendChild(a),a.click()}).catch(o=>{console.log("Error al imprimir los pedidos:",o)})},S=e=>{console.log("Items seleccionados para producciÃ³n (Axios):",e),c.post(route("pedidos.produccion"),{pedidos:e}).then(o=>{console.log("Respuesta del servidor:",o.data),i(o.data),n({}),f(!1)}).catch(o=>{console.log("Error al enviar:",o.response.data)})},b=t.useMemo(()=>d.filter(e=>e.factura.includes(s.factura)&&e.cliente.full_name.toLowerCase().includes(s.cliente.toLowerCase())&&e.estado.toLowerCase().includes(s.estado.toLowerCase())),[d,s]);return{enviapedidosproduccion:S,datainstance:b,filters:s,rowSelection:m,setData:p,setRowSelection:n,setItemselect:u,setFilters:r,pedidos:d,imprimirPedidosSeleccionados:g}}export{P as useCorteHook};
