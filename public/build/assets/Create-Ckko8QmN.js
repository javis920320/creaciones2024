import{r as O,j as e,W as $,a as M,Y as B}from"./app-eaRaz6XH.js";import{A as K}from"./AuthenticatedLayout-Bqok7zD6.js";import{S as u}from"./Section-CJG_r-9k.js";import{T as m}from"./TextInput-B62eTCzM.js";import{I as i}from"./InputLabel-CEO3X4Uf.js";import{I as n}from"./InputError-B2kcEF61.js";import{S as Q}from"./SecondaryButton-BA1N_ZFP.js";import{S as F}from"./SelectList-BHi4c_Cm.js";import"./lodash-DgcPfrH8.js";import{S as U}from"./slick-theme-rpV4b2VB.js";import"./ApplicationLogo-CXSRo1-s.js";import"./transition-e_1U5s-P.js";const V=({setData:c})=>(O.useEffect(()=>{Dropzone.autoDiscover=!1;const d=new Dropzone("#dropzone",{dictDefaultMessage:"Sube aquÃ­ tu imagen",acceptedFiles:".jpg,.jpeg,.png,.gif",addRemoveLinks:!0,dictRemoveFile:"Quitar archivo",maxFiles:3,uploadMultiple:!0,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});return d.on("success",(a,r)=>{r.paths&&c(t=>({...t,images_url:r.paths}))}),()=>{d.destroy()}},[]),e.jsx("form",{id:"dropzone",action:route("product.image"),className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",method:"post",enctype:"multipart/form-data",children:e.jsx("input",{type:"hidden",name:"_token",value:document.querySelector('meta[name="csrf-token"]').getAttribute("content")})})),W=({images:c=[]})=>{const d={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3};return e.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4",children:[c.length>0?"Varias Imagenes":"SIn Imagenes",e.jsx(U,{...d,children:c.map((a,r)=>e.jsx("div",{className:"px-2",children:e.jsx("img",{src:a,alt:`Slide ${r+1}`,className:"w-full h-64 object-cover rounded-lg shadow-lg"})},r))})]})},le=({auth:c,categorias:d,product:a=null})=>{var h,g,j,v,f,p,N,b,y,w,C,S,k,E,P,_,I,D,A,z;const r=!!a,{data:t,put:L,setData:o,errors:l,post:R}=$({category_id:((g=(h=a==null?void 0:a.data)==null?void 0:h[0])==null?void 0:g.category_id)||"",nameProduct:((v=(j=a==null?void 0:a.data)==null?void 0:j[0])==null?void 0:v.nameProduct)||"",description:((p=(f=a==null?void 0:a.data)==null?void 0:f[0])==null?void 0:p.description)||"",status:((b=(N=a==null?void 0:a.data)==null?void 0:N[0])==null?void 0:b.status)||"",price:((w=(y=a==null?void 0:a.data)==null?void 0:y[0])==null?void 0:w.price)||"",costo_produccion:((S=(C=a==null?void 0:a.data)==null?void 0:C[0])==null?void 0:S.costo_produccion)||"",costoProduccionExtra:((E=(k=a==null?void 0:a.data)==null?void 0:k[0])==null?void 0:E.costoProduccionExtra)||"",costoExterno:((_=(P=a==null?void 0:a.data)==null?void 0:P[0])==null?void 0:_.costoExterno)||"",images_url:((D=(I=a==null?void 0:a.data)==null?void 0:I[0])==null?void 0:D.image_url)||""}),x=((z=(A=a==null?void 0:a.data)==null?void 0:A[0])==null?void 0:z.images)||[],q=s=>{s.preventDefault(),r?L(route("product.update",a.data[0].id)):R(route("product.store"))};return e.jsxs(K,{user:c.user,header:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Crear Productos",e.jsx(M,{className:"text-gray-400 hover:text-blue-500 transition-colors duration-300 ease-in-out underline decoration-dashed decoration-gray-300 hover:decoration-solid hover:decoration-blue-500",href:"/products/",children:"/Listar"})]}),children:[e.jsx(B,{title:"Crear Productos "}),e.jsxs("div",{className:"grid grid-cols-2 justify-center py-8 gap-4 ",children:[e.jsxs("form",{onSubmit:q,className:"flex flex-col ",children:[e.jsxs(u,{className:"w-full max-w-4xl p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[e.jsx("p",{className:"text-gray-800 dark:text-gray-300 mb-6",children:"Diligencia todo el formulario para agregar a tu inventario"}),e.jsxs("div",{className:"w-full",children:[e.jsx(i,{children:"Nombre de Producto"}),e.jsx(m,{className:"mt-1 block w-full",placeholder:"Pantalones,camisas",onChange:s=>o("nameProduct",s.target.value),value:t.nameProduct}),e.jsx(n,{className:"mt-2",message:l.nameProduct})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(i,{children:"Descripcion"}),e.jsx(m,{className:"mt-1 block w-full",placeholder:"comentarios",onChange:s=>o("description",s.target.value),value:t.description}),e.jsx(n,{className:"mt-2",message:l.nameProduct})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-3/4",children:[e.jsx(i,{children:"Categoria"}),e.jsxs(F,{className:" mt-1 block w-full",value:t.category_id,onChange:s=>o("category_id",s.target.value),children:[e.jsx("option",{value:"",checked:!0,disabled:!0,children:"Seleccione la categoria"}),d.map(s=>e.jsx("option",{value:s.id,children:s.nameCategory}))]}),e.jsx(n,{className:"mt-2",message:l.category_id})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Precio de venta"}),e.jsx(m,{className:"mt-1 block w-full",placeholder:"$2000",value:t.price,onChange:s=>o("price",s.target.value)}),e.jsx(n,{className:"mt-2",message:l.price})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Estado"}),e.jsxs(F,{className:"mt-1 block w-full",value:t.status,onChange:s=>o("status",s.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Estado"}),e.jsx("option",{checked:!0,value:"Activo",children:"Activo"}),e.jsx("option",{value:"Inactivo",children:"Inactivo"})]}),e.jsx(n,{className:"mt-2",message:l.status})]})]}),e.jsxs(u,{className:"w-full max-w-4xl p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[e.jsx("p",{className:"text-gray-800 dark:text-gray-300 mb-6",children:"Ajusta los Costos de elaboracion"}),e.jsxs("div",{children:[e.jsx(i,{children:"Costo Operario"}),e.jsx(m,{className:"mt-1 block w-full",value:t.costo_produccion,onChange:s=>o("costo_produccion",s.target.value)}),e.jsx(n,{className:"mt-2",message:l.costo_produccion})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Costo Operario Externo"}),e.jsx(m,{className:"mt-1 block w-full",value:t.costoExterno,onChange:s=>o("costoExterno",s.target.value)}),e.jsx(n,{className:"mt-2",message:l.costoExterno})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Costo Nocturo"}),e.jsx(m,{className:"mt-1 block w-full",value:t.costoProduccionExtra,onChange:s=>o("costoProduccionExtra",s.target.value)}),e.jsx(n,{className:"mt-2",message:l.costoProduccionExtra}),e.jsx("input",{type:"hidden",name:"images"})]})]}),e.jsx("div",{className:"col-span-1 md:col-span-2 flex justify-end mt-6",children:e.jsx(Q,{type:"submit",children:r?"Editar Producto":"Crear Producto"})})]}),e.jsxs("div",{children:[x.length>0&&e.jsx(u,{className:"h-28 w-44",children:e.jsx(W,{images:x})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:e.jsx(V,{setData:o})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.map(({image_path:s,index:T})=>e.jsx("img",{src:s,alt:`Uploaded ${T+1}`,className:"w-full h-32 object-cover rounded"},T))})]})]})]})]})};export{le as default};
