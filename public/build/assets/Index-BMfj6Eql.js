import{r as u,j as e,Y as S,R as k}from"./app-eaRaz6XH.js";import{D as t,A as N}from"./AuthenticatedLayout-Bqok7zD6.js";import{S as x}from"./Section-CJG_r-9k.js";import{A as R,u as v,f as m,g as w}from"./Acordeon-BUg9iBwl.js";import{P as h}from"./PrimaryButton-B4JMeX8T.js";import{a as I,b as P}from"./index-BosLKbWL.js";import{useCorteHook as A}from"./useCorteHook-B1GkmIIu.js";import"./ApplicationLogo-CXSRo1-s.js";import"./transition-e_1U5s-P.js";function p({indeterminate:o,className:i="",...c}){const s=u.useRef(null);return k.useEffect(()=>{typeof o=="boolean"&&(s.current.indeterminate=!c.checked&&o)},[s,o]),e.jsx("input",{type:"checkbox",ref:s,className:i+" cursor-pointer",...c})}const J=({auth:o})=>{const{enviapedidosproduccion:i,datainstance:c,filters:s,setFilters:l,rowSelection:n,setRowSelection:y,setData:K,pedidos:E,imprimirPedidosSeleccionados:f}=A(),j=()=>{const a=d.getSelectedRowModel().rows.map(g=>g.original.id);f(a)},b=()=>{const a=d.getSelectedRowModel().rows.map(g=>g.original.id);i(a)},C=u.useMemo(()=>[{header:({table:r})=>e.jsx("div",{children:e.jsx(p,{checked:r.getIsAllRowsSelected(),indeterminate:r.getIsSomeRowsSelected(),onChange:r.getToggleAllRowsSelectedHandler()})}),accessorKey:"id",cell:({row:r})=>e.jsx("div",{children:e.jsx(p,{checked:r.getIsSelected(),disabled:!r.getCanSelect(),indeterminate:r.getIsSomeSelected(),onChange:r.getToggleSelectedHandler()})})},{header:"Factura",accessorKey:"factura"},{header:"Cliente",accessorKey:"cliente.full_name"},{header:"Fecha de entrega",accessorKey:"fechaEntrega"},{header:"Estado",accessorKey:"estado"},{header:"impreso",accessorKey:"impreso",cell:({row:r})=>e.jsx("div",{children:r.original.impreso?"Se imprimio":"sin imprimir"})},{header:"Detalles",accessorKey:"ordenes",cell:({row:r})=>e.jsxs(R,{title:"",children:[JSON.stringify(r.original.orden),r.original.ordenes.map(a=>e.jsxs("li",{className:"border-b border-gray-300 pb-2",children:[e.jsxs("p",{className:"font-bold text-indigo-600",children:["Facultad:"," ",e.jsxs("span",{className:"text-gray-800",children:["[",a.facultad,"]"]})]}),e.jsxs("p",{className:"text-gray-700",children:[a.descripcion,e.jsxs("span",{className:"text-gray-500",children:[" ","(Cantidad: ",a.cantidad,")"]})]})]},a.id))]})},{header:"Fecha de Ingreso",accessorKey:"created_at"},{header:"Acciones",cell:({row:r})=>e.jsxs(t,{children:[e.jsx(t.Trigger,{children:e.jsx("button",{className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Acciones"})}),e.jsxs(t.Content,{align:"right",width:"48",children:[e.jsx(t.Link,{href:"#",children:"Ver detalles"}),e.jsx(t.Link,{href:route("editar.envio",r.original.id),children:"Editar"}),e.jsx(t.Link,{href:route("pedido.cancelar",r.original.id),children:"Cancelar Pedido"}),e.jsx(t.Link,{href:"#",children:"Imprimir"})]})]})}],[n]),d=v({columns:C,data:c,state:{rowSelection:n},enableRowSelection:!0,onRowSelectionChange:y,getCoreRowModel:w()});return e.jsxs(N,{user:o.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Modulo de Corte y Confección"}),children:[e.jsx(S,{title:"Corte y Confección"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsxs(x,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar factura",value:s.factura,onChange:r=>l(a=>({...a,factura:r.target.value})),className:"mr-2 p-2 border border-gray-300 rounded"}),e.jsx("input",{type:"text",placeholder:"Buscar cliente",value:s.cliente,onChange:r=>l(a=>({...a,cliente:r.target.value})),className:"mr-2 p-2 border border-gray-300 rounded"}),e.jsx("input",{type:"text",placeholder:"Buscar estado",value:s.estado,onChange:r=>l(a=>({...a,estado:r.target.value})),className:"mr-2 p-2 border border-gray-300 rounded"}),e.jsxs(h,{onClick:j,className:"flex gap-3",children:[e.jsx(I,{})," Imprimir"]}),e.jsxs(h,{className:"flex gap-2",onClick:b,children:[e.jsx(P,{})," Enviar a Producción(",n.length,")"]})]}),e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border-collapse",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 border-b-2 border-gray-500",children:d.getHeaderGroups().map(r=>e.jsx("tr",{children:r.headers.map(a=>e.jsx("th",{colSpan:a.colSpan,className:"px-6 py-3",children:a.isPlaceholder?null:m(a.column.columnDef.header,a.getContext())},a.id))},r.id))}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800",children:d.getRowModel().rows.map(r=>e.jsx("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:r.getVisibleCells().map(a=>e.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:m(a.column.columnDef.cell,a.getContext())},a.id))},r.original.id))})]})]}),e.jsx(x,{children:e.jsx("h1",{children:"Pedidos Impresos hoy"})})]})]})};export{J as default};
