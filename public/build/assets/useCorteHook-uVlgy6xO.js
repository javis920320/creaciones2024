import{r as t,W as E,b as d}from"./app-BWBwhxjP.js";function P(){const[s,r]=t.useState({factura:"",cliente:"",estado:""}),[c,i]=t.useState([]),l=()=>{d.get(route("pedidosEnviado.get")).then(e=>{console.log(e.data),i(e.data)}).catch(e=>{console.log("Error al obtener los pedidos:",e)})};t.useEffect(()=>{l()},[]);const{data:w,setData:u,post:C}=E({pedidos:[]}),[L,p]=t.useState([]),[f,n]=t.useState({}),[v,m]=t.useState(!1),g=e=>{console.log("Pedidos seleccionados para imprimir:",e),d.post(route("pedidos.imprimir"),{pedidos:e},{responseType:"blob"}).then(o=>{const h=window.URL.createObjectURL(new Blob([o.data])),a=document.createElement("a");a.href=h,a.setAttribute("download","pedidos-seleccionados.pdf"),document.body.appendChild(a),a.click()}).catch(o=>{console.log("Error al imprimir los pedidos:",o)})},S=e=>{console.log("Items seleccionados para producciÃ³n (Axios):",e),d.post(route("pedidos.produccion"),{pedidos:e}).then(o=>{console.log("Respuesta del servidor:",o.data),i(o.data),n({}),m(!1)}).catch(o=>{console.log("Error al enviar:",o.response.data)})},b=t.useMemo(()=>c.filter(e=>(e.factura?String(e.factura):"").includes(s.factura)&&e.cliente.full_name.toLowerCase().includes(s.cliente.toLowerCase())&&e.estado.toLowerCase().includes(s.estado.toLowerCase())),[c,s]);return{enviapedidosproduccion:S,datainstance:b,filters:s,rowSelection:f,setData:u,setRowSelection:n,setItemselect:p,setFilters:r,pedidos:c,imprimirPedidosSeleccionados:g}}export{P as useCorteHook};
