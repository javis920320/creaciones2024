import{j as e,a as d,r as l,b,Y as p}from"./app-DNyFTp_I.js";import{A as y}from"./AuthenticatedLayout-BnJvsuQ8.js";import{f as j,g as u,h as f,i as N,j as k,k as v}from"./index-DezAKa5j.js";import"./TextInput-XZFMSyYV.js";import{u as w,f as h,g as C,A as m}from"./Acordeon-CtntJcGs.js";import{B as n}from"./Button-DS6YXrBR.js";import"./ApplicationLogo-BoN71fHg.js";import"./transition-CrWVsblw.js";import"./DefaultPropsProvider-C3h8kBm-.js";import"./clsx-B-dksMZM.js";import"./useForkRef-DD34cN-A.js";function E(){return e.jsxs("div",{className:"w-96 h-screen  bg-white border-dashed border-2 shadow-sm dark:bg-gray-800  flex flex-col",children:[e.jsx("div",{className:"p-4",children:e.jsx("h1",{className:"text-2xl font-bold  dark:text-gray-200",children:"NavegaciÃ³n"})}),e.jsxs("nav",{className:"mt-5 flex-1",children:[e.jsxs(d,{href:"/clients",className:" flex gap-3  py-2.5 px-4 dark:hover:bg-gray-700 hover:bg-gray-200 text-gray-700 dark:text-gray-300",children:[" ",e.jsx(j,{}),"Ver Clientes  "]}),e.jsxs(d,{href:"/employees",className:"flex gap-3 py-2.5 px-4 dark:hover:bg-gray-700 hover:bg-gray-200 text-gray-700 dark:text-gray-300",children:[" ",e.jsx(u,{}),"Ver Empleados "]}),e.jsxs(d,{href:"/products",className:"flex gap-3 py-2.5 px-4 dark:hover:bg-gray-700 hover:bg-gray-200 text-gray-700 dark:text-gray-300 ",children:[" ",e.jsx(f,{}),"Ver Productos  "]})]})]})}function F(){const[t,o]=l.useState([]),[a,s]=l.useState(!0),[r,c]=l.useState(null),x=async()=>{try{s(!0);const i=await b.get(route("cobros"));o(i.data)}catch{console.error("Error obteniendo cobros:",err),c("Hubo un error al cargar los cobros.")}finally{s(!1)}};return l.useEffect(()=>{x()},[]),{listcobros:l.useMemo(()=>t,[t]),loading:a,error:r}}const S=()=>{const{listcobros:t}=F(),o=l.useMemo(()=>[{header:"codigo",accessorKey:"id"},{header:"factura",accessorKey:"factura"},{header:"producto",accessorKey:"producto"},{header:"cantidad",accessorKey:"cantidad"},{header:"precio",accessorKey:"monto"},{header:"fecha registro",accessorKey:"fechacobro"},{header:"Estado",accessorKey:"estado"}],[]),a=w({data:t,columns:o,getCoreRowModel:C()});return t.length>0,e.jsxs("div",{className:"bg-gray-300 w-full m-4",children:[e.jsx("h2",{children:"Lista de ordenes por cobrar"}),e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border-collapse",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 border-b-2 border-gray-500",children:a.getHeaderGroups().map(s=>e.jsx("tr",{children:s.headers.map(r=>e.jsx("th",{colSpan:r.colSpan,className:"px-6 py-3",children:r.isPlaceholder?null:h(r.column.columnDef.header,r.getContext())},r.id))},s.id))}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800",children:a.getRowModel().rows.map(s=>e.jsx("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:s.getVisibleCells().map(r=>e.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:h(r.column.columnDef.cell,r.getContext())},r.id))},s.original.id))})]})]})},A=({asignaciones:t,costosproduccion:o})=>e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-gray-400",children:"Tabla de Costos"}),e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border-collapse",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 border-b-2 border-gray-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Empleado"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Total Asignaciones"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Total Costo"})]})}),e.jsx("tbody",{children:t.map((a,s)=>e.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("td",{className:"px-4 py-2",children:[a.empleado.nombreCompleto," "]}),e.jsxs("td",{className:"px-4 py-2",children:[a.total_asignaciones," "]}),e.jsxs("td",{className:"px-4 py-2",children:["$",isNaN(Number(a.total_costo))?"0:00":Number(a.total_costo).toFixed(2)," "]})]},s))}),e.jsx("tfoot",{children:e.jsx("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:e.jsxs("td",{colSpan:3,className:"text-end px-4 py-2",children:[" ","Total :$",isNaN(Number(o))?"0.00":Number(o).toFixed(2)]})})})]})]});function z({auth:t,clientes:o,empleados:a,products:s,costosproduccion:r,asignaciones:c,cortes:x,pendientesasignacion:g,cobros:i}){return e.jsxs(y,{user:t.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Dashboard"}),children:[e.jsx(p,{title:"Dashboard"}),e.jsxs("main",{className:" flex  ",children:[e.jsx(E,{}),e.jsxs("div",{className:" w-full flex-col",children:[e.jsxs("div",{className:"w-full flex flex-row justify-between m-2 p-4 items-center bg-white dark:bg-slate-900",children:[e.jsx(n,{variant:"contained",startIcon:e.jsx(N,{}),children:e.jsx(d,{href:"/crear-pedidos",children:"Nuevo Pedido"})}),e.jsx(n,{variant:"outlined",startIcon:e.jsx(k,{}),children:e.jsxs(d,{href:route("asignacion.index"),children:["Asignar"," "]})}),e.jsx(n,{variant:"outlined",startIcon:e.jsx(v,{}),children:e.jsx(d,{href:route("corteConfeccion.index"),children:"En Cortes"})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(m,{title:`Lista de costos empleados - $${isNaN(Number(r))?"0.00":Number(r).toFixed(2)}`,children:e.jsx(A,{asignaciones:c,costosproduccion:r})}),e.jsx(m,{title:"Saldo por cobrar en Almacen ",children:e.jsx(S,{})})]})]})]})]})}export{z as default};
